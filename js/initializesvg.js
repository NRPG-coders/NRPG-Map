"use strict";function getInfo(e){return zones[zoneReference[e]]}function triggerInfo(e){document.getElementById("hover").innerHTML="Hovered zone id: "+e}function triggerExpandedInfo(e){document.getElementById("click").innerHTML="Clicked zone id: "+e}function untriggerInfo(){}function untriggerExpandedInfo(){}function selectZone(e){var o=zones[zoneReference[e]];if(o.g){var t=!0,n=!1,r=void 0;try{for(var i,l=document.getElementById(e).childNodes[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var d=i.value;d.tagName&&(d.style.fill="#fff")}}catch(e){n=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw r}}}else o.e.node.style.fill="#fff";untriggerExpandedInfo(),triggerExpandedInfo(e)}function hoverZone(e){var o=zones[zoneReference[e]];if(o.g){var t=!0,n=!1,r=void 0;try{for(var i,l=document.getElementById(e).childNodes[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var d=i.value;d.tagName&&(d.style.fill="#ddd")}}catch(e){n=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw r}}}else o.e.node.style.fill="#ddd";untriggerInfo(),triggerInfo(e)}function customresethandler(){var e=getInfo(this.id());try{o=Factions[e.details.owner].color}catch(e){var o=defaultColor}if(e.g){var t=!0,n=!1,r=void 0;try{for(var i,l=document.getElementById(e.id).childNodes[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var d=i.value;d.tagName&&(d.style.fill=o)}}catch(e){n=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw r}}}else e.e.node.style.fill=o}function customresetcaller(){zones.forEach(function(e){e.id!==selectedZone&&e.e.fire("customreset")})}function delayedMouseover(e,o){e.mouseout||(e.id!==selectedZone?(customresetcaller(),hoverZone(o)):(customresetcaller(),untriggerInfo(),triggerInfo(o)))}function mouseoverhandler(){var e=getInfo(this.id());e.mouseout=!1,setTimeout(delayedMouseover,50,e,e.id)}function mouseouthandler(){selectedZone||(zones[zoneReference[this.id()]].mouseout=!0)}function clickhandler(){var e=getInfo(this.id());selectedZone===e.id?(selectedZone=null,e.e.fire("customreset"),delayedMouseover(e,e.id),untriggerExpandedInfo()):(selectedZone=e.id,customresetcaller(),selectZone(e.id))}function ontouchstarthandler(){var e=getInfo(this.id());e.e.fire("mouseover"),e.e.fire("click")}function adopt(){var e=!0,o=!1,t=void 0;try{for(var n,r=document.getElementById("The_Ninja_World").childNodes[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var i=n.value;if(i.tagName){if(!i.id)throw"Element lacks id!";zoneReference[i.id]=zones.length,zones.push({g:"g"===i.tagName.toLowerCase(),e:SVG.adopt(i),id:i.id,details:ZoneDetails[i.id],mouseout:!1})}}}catch(e){o=!0,t=e}finally{try{!e&&r.return&&r.return()}finally{if(o)throw t}}zones.forEach(function(e,o){var t=e.e;t.mouseover(mouseoverhandler),t.mouseout(mouseouthandler),t.click(clickhandler),t.on("customreset",customresethandler),t.on("touchstart",ontouchstarthandler),t.fire("customreset")})}var defaultColor="#b2b2b2",zones=[],zoneReference={},selectedZone=void 0;addload(adopt),addload(function(){window.map=svgPanZoom("#The_Best_Map_Ever",{panEnabled:!0,controlIconsEnabled:!0,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.5,minZoom:1,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto"})});